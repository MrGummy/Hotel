{% sw_extends '@Storefront/storefront/page/account/order-history/order-item.html.twig' %}

{% block page_account_order_item_heading %}
    <div class="col-auto pl-0">
        <h3 class="order-table-header-heading mr-1">
            {{ "account.orderHeadline"|trans|sw_sanitize }} {{ order.orderDateTime|format_date('short', locale=app.request.locale) }}
        </h3>

        {% block page_account_order_item_status %}
            {% if isPaymentNeeded %}
                {% block page_account_order_item_status_badge_payment_process_needed %}
                    <a href="{{ path('frontend.account.edit-order.page', { 'orderId': order.id }) }}"
                        class="badge badge-lg order-item-status-badge badge-danger">
                        {{ "account.orderStatusActionCompletePayment"|trans|sw_sanitize }}
                    </a>
                {% endblock %}
            {% else %}
                {% block page_account_order_item_status_badge %}
                    <span class="badge badge-lg order-item-status-badge order-item-status-badge-{{ order.stateMachineState.technicalName}}">
                        {{ order.stateMachineState.translated.name }}
                    </span>
                {% endblock %}
            {% endif %}
        {% endblock %}
    </div>
{% endblock %}

{% block page_account_order_item_status_col %}{% endblock %}

{% block page_account_order_item_context_menu_button %}
    <button class="dropdown-toggle order-table-header-context-menu"
            type="button"
            id="accountOrderDropdown"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false">
        {% sw_icon 'more-horizontal' %}
    </button>
{% endblock %}
